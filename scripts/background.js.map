{"version":3,"sources":["scripts/background.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","modules","__webpack_require__","moduleId","installedModules","exports","module","l","call","m","c","d","name","getter","o","get","n","__esModule","object","property","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_jssha__","__WEBPACK_IMPORTED_MODULE_0_jssha___default","Storage","this","value","templateId","callback","_getTemplate","_fetch","templatePerType","templates","assign","type","items","title","body","template","model","_saveTemplate","_this","id","_createTemplateId","created_at","_now","fullyTemplates","_save","_delete","_this2","isDeleted","seed","jssha","a","update","getHash","Date","getTime","data","STORAGE_KEY_TEMPLATE","set","_this3","root","chrome","storage","local","__WEBPACK_IMPORTED_MODULE_0_modules_storage_js__","__WEBPACK_IMPORTED_MODULE_1_modules_storage_migration_js__","Background","convert","getOriginal","getAll","saveOriginal","deleteOriginal","window","bg","__WEBPACK_AMD_DEFINE_RESULT__","Y","C","b","g","f","q","u","r","t","e","h","I","v","w","y","z","x","encoding","numRounds","parseInt","Error","K","Z","slice","lastIndexOf","L","k","push","F","D","M","A","setHMACKey","binLen","N","shakeLen","O","P","Q","ArrayBuffer","R","getHMAC","charAt","outputUpper","toUpperCase","b64Pad","String","fromCharCode","Uint8Array","_c","substr","isNaN","_c2","charCodeAt","_c3","search","indexOf","replace","_c4","_c5","byteLength","S","T","aa","ba","U","ca","da","ea","fa","ga","ha","ia","ja","ka","G","la","H","ma","na","oa","B","J","E","Number","V","W","X","undefined","loop","init","condition","increment","Promise","resolve","reject","then","_loop","result","__WEBPACK_IMPORTED_MODULE_0__storage_js__","StorageMigration","_this4","keys","STORAGE_KEY_STORAGE_VERSION","_migrate","storageVersion","STORAGE_VERSION","currentVersion","_migrateNullTo1_0_0","_this5","oldIds","intId"],"mappings":"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AEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,WAAY,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,WAAY,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,WAAY,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,WAAY,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,WAAY,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,YAAa,GAAIsE,GAAEtE,EAAE,IAAK,WAAY,GAAIsE,GAAEtE,EAAE,I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","file":"background.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/******/(function (modules) {\n  // webpackBootstrap\n  /******/ // The module cache\n  /******/var installedModules = {};\n  /******/\n  /******/ // The require function\n  /******/function __webpack_require__(moduleId) {\n    /******/\n    /******/ // Check if module is in cache\n    /******/if (installedModules[moduleId]) {\n      /******/return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/ // Create a new module (and put it into the cache)\n    /******/var module = installedModules[moduleId] = {\n      /******/i: moduleId,\n      /******/l: false,\n      /******/exports: {}\n      /******/ };\n    /******/\n    /******/ // Execute the module function\n    /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n    /******/ // Flag the module as loaded\n    /******/module.l = true;\n    /******/\n    /******/ // Return the exports of the module\n    /******/return module.exports;\n    /******/\n  }\n  /******/\n  /******/\n  /******/ // expose the modules object (__webpack_modules__)\n  /******/__webpack_require__.m = modules;\n  /******/\n  /******/ // expose the module cache\n  /******/__webpack_require__.c = installedModules;\n  /******/\n  /******/ // define getter function for harmony exports\n  /******/__webpack_require__.d = function (exports, name, getter) {\n    /******/if (!__webpack_require__.o(exports, name)) {\n      /******/Object.defineProperty(exports, name, {\n        /******/configurable: false,\n        /******/enumerable: true,\n        /******/get: getter\n        /******/ });\n      /******/\n    }\n    /******/\n  };\n  /******/\n  /******/ // getDefaultExport function for compatibility with non-harmony modules\n  /******/__webpack_require__.n = function (module) {\n    /******/var getter = module && module.__esModule ?\n    /******/function getDefault() {\n      return module['default'];\n    } :\n    /******/function getModuleExports() {\n      return module;\n    };\n    /******/__webpack_require__.d(getter, 'a', getter);\n    /******/return getter;\n    /******/\n  };\n  /******/\n  /******/ // Object.prototype.hasOwnProperty.call\n  /******/__webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n  /******/ // __webpack_public_path__\n  /******/__webpack_require__.p = \"\";\n  /******/\n  /******/ // Load entry module and return exports\n  /******/return __webpack_require__(__webpack_require__.s = 2);\n  /******/\n})(\n/************************************************************************/\n/******/[\n/* 0 */\n/***/function (module, __webpack_exports__, __webpack_require__) {\n\n  \"use strict\";\n  /* harmony import */\n  var __WEBPACK_IMPORTED_MODULE_0_jssha__ = __webpack_require__(3);\n  /* harmony import */var __WEBPACK_IMPORTED_MODULE_0_jssha___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jssha__);\n\n  var Storage = function () {\n    function Storage() {\n      _classCallCheck(this, Storage);\n    }\n\n    _createClass(Storage, [{\n      key: 'getOriginal',\n\n\n      //\n      // get original type template\n      //\n      // templateId: want to get template's id\n      //\n      value: function getOriginal(templateId, callback) {\n        this._getTemplate('ORIGINAL', templateId, callback);\n      }\n\n      //\n      // get all templates\n      //\n      // callback: callback(item)\n      //\n\n    }, {\n      key: 'getAll',\n      value: function getAll(callback) {\n        this._fetch(function (templatePerType) {\n          var templates = {};\n\n          for (var key in templatePerType) {\n            templates = Object.assign(templates, templatePerType[key]);\n          }\n\n          callback(templates);\n        });\n      }\n\n      //\n      // get template\n      // it should be wrap for deciding type\n      //\n      // type: template was defined type\n      // templateId: want to get template's id\n\n    }, {\n      key: '_getTemplate',\n      value: function _getTemplate(type, templateId, callback) {\n        this._fetch(function (items) {\n          var templates = items[type];\n\n          if (callback && templates && templates.hasOwnProperty(templateId)) {\n            callback(templates[templateId]);\n          }\n        });\n      }\n\n      //\n      // save original type template\n      //\n      // title: template title\n      // body: template body\n      //\n\n    }, {\n      key: 'saveOriginal',\n      value: function saveOriginal(name, title, body, callback) {\n        var template = Object.assign(this.model, {\n          name: name,\n          title: title,\n          body: body\n        });\n\n        this._saveTemplate('ORIGINAL', template, callback);\n      }\n\n      //\n      // save template\n      // it should be wrap for deciding type\n      //\n      // type: template was defined type\n      // template: template data\n\n    }, {\n      key: '_saveTemplate',\n      value: function _saveTemplate(type, template, callback) {\n        var _this = this;\n\n        template.id = this._createTemplateId(template.name + template.title + template.body);\n        template.created_at = this._now();\n\n        this._fetch(function (fullyTemplates) {\n          if (!fullyTemplates.hasOwnProperty(type)) {\n            fullyTemplates[type] = {};\n          }\n\n          fullyTemplates[type][template.id] = template;\n          _this._save(fullyTemplates, callback);\n        });\n      }\n\n      //\n      // delete template by id\n      //\n      // templateId: want to delete template id\n      // callback: callback(boolean isDeleted)\n      //\n\n    }, {\n      key: 'deleteOriginal',\n      value: function deleteOriginal(templateId, callback) {\n        this._delete('ORIGINAL', templateId, callback);\n      }\n\n      //\n      // delete the template\n      //\n      // type: it was defined template type\n      // templateId: want to delete template id\n      // callback: callback(boolean isDeleted)\n      //\n\n    }, {\n      key: '_delete',\n      value: function _delete(type, templateId, callback) {\n        var _this2 = this;\n\n        this._fetch(function (fullyTemplates) {\n          var isDeleted = delete fullyTemplates[type][templateId];\n          _this2._save(fullyTemplates, function () {\n            callback(isDeleted);\n          });\n        });\n      }\n\n      //\n      // generate unique id for saving templates\n      //\n\n    }, {\n      key: '_createTemplateId',\n      value: function _createTemplateId(seed) {\n        var jssha = new __WEBPACK_IMPORTED_MODULE_0_jssha___default.a('SHA-1', 'TEXT');\n        jssha.update(seed);\n        return jssha.getHash('HEX');\n      }\n    }, {\n      key: '_now',\n      value: function _now() {\n        return new Date().getTime();\n      }\n\n      //\n      // save fully template data\n      //\n      // fullyTemplates: replaced this data\n      // callback: callback on success or failure\n      //           callback()\n      //\n\n    }, {\n      key: '_save',\n      value: function _save(fullyTemplates, callback) {\n        var data = {};\n        data[this.STORAGE_KEY_TEMPLATE] = fullyTemplates;\n\n        this.set(data, callback);\n      }\n\n      //\n      // fetch fully template data\n      //\n      // callback: Callback with storage items, or on failure\n      //           callback(Object items)\n\n    }, {\n      key: '_fetch',\n      value: function _fetch(callback) {\n        var _this3 = this;\n\n        this.get(this.STORAGE_KEY_TEMPLATE, function (root) {\n          if (root && (typeof root === 'undefined' ? 'undefined' : _typeof(root)) == 'object' && root.hasOwnProperty(_this3.STORAGE_KEY_TEMPLATE)) {\n            // callback({'ORIGINAL': {[Object]}, {'HOGE': {[Object]}}})\n            callback(root[_this3.STORAGE_KEY_TEMPLATE]);\n          } else {\n            callback({});\n          }\n        });\n      }\n\n      //\n      // get chrome storage\n      //\n      // key: pick up key. get all key-values if key is null\n      // callback: callback(picked_up_object)\n      //\n\n    }, {\n      key: 'get',\n      value: function get(key, callback) {\n        chrome.storage.local.get(key, callback);\n      }\n\n      //\n      // set chrome storage\n      //\n      // data: will be set data\n      // callback: call always. callback()\n      //\n\n    }, {\n      key: 'set',\n      value: function set(data, callback) {\n        chrome.storage.local.set(data, callback);\n      }\n    }, {\n      key: 'STORAGE_KEY_STORAGE_VERSION',\n\n\n      //\n      // strage version\n      //\n      get: function get() {\n        return 'storage_version';\n      }\n\n      //\n      // it use storage root\n      //\n\n    }, {\n      key: 'STORAGE_KEY_TEMPLATE',\n      get: function get() {\n        return 'template';\n      }\n\n      //\n      // strage version\n      //\n\n    }, {\n      key: 'STORAGE_VERSION',\n      get: function get() {\n        return '1.0.0';\n      }\n\n      //\n\n    }, {\n      key: 'model',\n      get: function get() {\n        return {\n          id: null,\n          name: null,\n          title: null,\n          body: null,\n          created_at: null\n        };\n      }\n    }]);\n\n    return Storage;\n  }();\n  /* harmony export (immutable) */\n\n  __webpack_exports__[\"a\"] = Storage;\n\n  /***/\n},,\n/* 1 */\n/* 2 */\n/***/function (module, __webpack_exports__, __webpack_require__) {\n\n  \"use strict\";\n\n  Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n  /* harmony import */var __WEBPACK_IMPORTED_MODULE_0_modules_storage_js__ = __webpack_require__(0);\n  /* harmony import */var __WEBPACK_IMPORTED_MODULE_1_modules_storage_migration_js__ = __webpack_require__(4);\n\n  var Background = function () {\n    function Background() {\n      _classCallCheck(this, Background);\n\n      new __WEBPACK_IMPORTED_MODULE_1_modules_storage_migration_js__[\"a\" /* default */]().convert();\n      this.storage = new __WEBPACK_IMPORTED_MODULE_0_modules_storage_js__[\"a\" /* default */]();\n    }\n\n    /*\n      * テンプレートをIDを指定してストレージから取得する\n      */\n\n\n    _createClass(Background, [{\n      key: 'getTemplateById',\n      value: function getTemplateById(templateId, callback) {\n        this.storage.getOriginal(templateId, callback);\n      }\n\n      /*\n        * テンプレートをストレージから全取得する\n        */\n\n    }, {\n      key: 'getAllTemplates',\n      value: function getAllTemplates(callback) {\n        this.storage.getAll(callback);\n      }\n\n      /*\n        * テンプレートを保存する\n        */\n\n    }, {\n      key: 'saveTemplate',\n      value: function saveTemplate(name, title, body) {\n        this.storage.saveOriginal(name, title, body);\n      }\n\n      /*\n        * テンプレートをID指定で削除する\n        */\n\n    }, {\n      key: 'deleteTemplate',\n      value: function deleteTemplate(templateId, callback) {\n        this.storage.deleteOriginal(templateId, callback);\n      }\n    }]);\n\n    return Background;\n  }();\n\n  (function () {\n    window.bg = new Background();\n  })();\n\n  /***/\n},\n/* 3 */\n/***/function (module, exports, __webpack_require__) {\n\n  \"use strict\";\n\n  var __WEBPACK_AMD_DEFINE_RESULT__; /*\n                                     A JavaScript implementation of the SHA family of hashes, as\n                                     defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding\n                                     HMAC implementation as defined in FIPS PUB 198a\n                                     Copyright Brian Turek 2008-2017\n                                     Distributed under the BSD License\n                                     See http://caligatio.github.com/jsSHA/ for more information\n                                     Several functions taken from Paul Johnston\n                                     */\n  (function (Y) {\n    function C(c, a, b) {\n      var e = 0,\n          h = [],\n          n = 0,\n          g,\n          l,\n          d,\n          f,\n          m,\n          q,\n          u,\n          r,\n          I = !1,\n          v = [],\n          w = [],\n          t,\n          y = !1,\n          z = !1,\n          x = -1;b = b || {};g = b.encoding || \"UTF8\";t = b.numRounds || 1;if (t !== parseInt(t, 10) || 1 > t) throw Error(\"numRounds must a integer >= 1\");if (\"SHA-1\" === c) m = 512, q = K, u = Z, f = 160, r = function r(a) {\n        return a.slice();\n      };else if (0 === c.lastIndexOf(\"SHA-\", 0)) {\n        if (q = function q(a, b) {\n          return L(a, b, c);\n        }, u = function u(a, b, h, e) {\n          var k, f;if (\"SHA-224\" === c || \"SHA-256\" === c) k = (b + 65 >>> 9 << 4) + 15, f = 16;else if (\"SHA-384\" === c || \"SHA-512\" === c) k = (b + 129 >>> 10 << 5) + 31, f = 32;else throw Error(\"Unexpected error in SHA-2 implementation\");for (; a.length <= k;) {\n            a.push(0);\n          }a[b >>> 5] |= 128 << 24 - b % 32;b = b + h;a[k] = b & 4294967295;a[k - 1] = b / 4294967296 | 0;h = a.length;for (b = 0; b < h; b += f) {\n            e = L(a.slice(b, b + f), e, c);\n          }if (\"SHA-224\" === c) a = [e[0], e[1], e[2], e[3], e[4], e[5], e[6]];else if (\"SHA-256\" === c) a = e;else if (\"SHA-384\" === c) a = [e[0].a, e[0].b, e[1].a, e[1].b, e[2].a, e[2].b, e[3].a, e[3].b, e[4].a, e[4].b, e[5].a, e[5].b];else if (\"SHA-512\" === c) a = [e[0].a, e[0].b, e[1].a, e[1].b, e[2].a, e[2].b, e[3].a, e[3].b, e[4].a, e[4].b, e[5].a, e[5].b, e[6].a, e[6].b, e[7].a, e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a;\n        }, r = function r(a) {\n          return a.slice();\n        }, \"SHA-224\" === c) m = 512, f = 224;else if (\"SHA-256\" === c) m = 512, f = 256;else if (\"SHA-384\" === c) m = 1024, f = 384;else if (\"SHA-512\" === c) m = 1024, f = 512;else throw Error(\"Chosen SHA variant is not supported\");\n      } else if (0 === c.lastIndexOf(\"SHA3-\", 0) || 0 === c.lastIndexOf(\"SHAKE\", 0)) {\n        var F = 6;q = D;r = function r(a) {\n          var c = [],\n              e;for (e = 0; 5 > e; e += 1) {\n            c[e] = a[e].slice();\n          }return c;\n        };x = 1;if (\"SHA3-224\" === c) m = 1152, f = 224;else if (\"SHA3-256\" === c) m = 1088, f = 256;else if (\"SHA3-384\" === c) m = 832, f = 384;else if (\"SHA3-512\" === c) m = 576, f = 512;else if (\"SHAKE128\" === c) m = 1344, f = -1, F = 31, z = !0;else if (\"SHAKE256\" === c) m = 1088, f = -1, F = 31, z = !0;else throw Error(\"Chosen SHA variant is not supported\");u = function u(a, c, e, b, h) {\n          e = m;var k = F,\n              f,\n              g = [],\n              n = e >>> 5,\n              l = 0,\n              d = c >>> 5;for (f = 0; f < d && c >= e; f += n) {\n            b = D(a.slice(f, f + n), b), c -= e;\n          }a = a.slice(f);for (c %= e; a.length < n;) {\n            a.push(0);\n          }f = c >>> 3;a[f >> 2] ^= k << f % 4 * 8;a[n - 1] ^= 2147483648;for (b = D(a, b); 32 * g.length < h;) {\n            a = b[l % 5][l / 5 | 0];g.push(a.b);if (32 * g.length >= h) break;g.push(a.a);l += 1;0 === 64 * l % e && D(null, b);\n          }return g;\n        };\n      } else throw Error(\"Chosen SHA variant is not supported\");d = M(a, g, x);l = A(c);this.setHMACKey = function (a, b, h) {\n        var k;if (!0 === I) throw Error(\"HMAC key already set\");if (!0 === y) throw Error(\"Cannot set HMAC key after calling update\");if (!0 === z) throw Error(\"SHAKE is not supported for HMAC\");g = (h || {}).encoding || \"UTF8\";b = M(b, g, x)(a);a = b.binLen;b = b.value;k = m >>> 3;h = k / 4 - 1;if (k < a / 8) {\n          for (b = u(b, a, 0, A(c), f); b.length <= h;) {\n            b.push(0);\n          }b[h] &= 4294967040;\n        } else if (k > a / 8) {\n          for (; b.length <= h;) {\n            b.push(0);\n          }b[h] &= 4294967040;\n        }for (a = 0; a <= h; a += 1) {\n          v[a] = b[a] ^ 909522486, w[a] = b[a] ^ 1549556828;\n        }l = q(v, l);e = m;I = !0;\n      };this.update = function (a) {\n        var c,\n            b,\n            k,\n            f = 0,\n            g = m >>> 5;c = d(a, h, n);a = c.binLen;b = c.value;c = a >>> 5;for (k = 0; k < c; k += g) {\n          f + m <= a && (l = q(b.slice(k, k + g), l), f += m);\n        }e += f;h = b.slice(f >>> 5);n = a % m;y = !0;\n      };this.getHash = function (a, b) {\n        var k, g, d, m;if (!0 === I) throw Error(\"Cannot call getHash after setting HMAC key\");d = N(b);if (!0 === z) {\n          if (-1 === d.shakeLen) throw Error(\"shakeLen must be specified in options\");\n          f = d.shakeLen;\n        }switch (a) {case \"HEX\":\n            k = function k(a) {\n              return O(a, f, x, d);\n            };break;case \"B64\":\n            k = function k(a) {\n              return P(a, f, x, d);\n            };break;case \"BYTES\":\n            k = function k(a) {\n              return Q(a, f, x);\n            };break;case \"ARRAYBUFFER\":\n            try {\n              g = new ArrayBuffer(0);\n            } catch (p) {\n              throw Error(\"ARRAYBUFFER not supported by this environment\");\n            }k = function k(a) {\n              return R(a, f, x);\n            };break;default:\n            throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}m = u(h.slice(), n, e, r(l), f);for (g = 1; g < t; g += 1) {\n          !0 === z && 0 !== f % 32 && (m[m.length - 1] &= 16777215 >>> 24 - f % 32), m = u(m, f, 0, A(c), f);\n        }return k(m);\n      };this.getHMAC = function (a, b) {\n        var k, g, d, p;if (!1 === I) throw Error(\"Cannot call getHMAC without first setting HMAC key\");d = N(b);switch (a) {case \"HEX\":\n            k = function k(a) {\n              return O(a, f, x, d);\n            };break;case \"B64\":\n            k = function k(a) {\n              return P(a, f, x, d);\n            };break;case \"BYTES\":\n            k = function k(a) {\n              return Q(a, f, x);\n            };break;case \"ARRAYBUFFER\":\n            try {\n              k = new ArrayBuffer(0);\n            } catch (v) {\n              throw Error(\"ARRAYBUFFER not supported by this environment\");\n            }k = function k(a) {\n              return R(a, f, x);\n            };break;default:\n            throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");\n        }g = u(h.slice(), n, e, r(l), f);p = q(w, A(c));p = u(g, f, m, p, f);return k(p);\n      };\n    }function b(c, a) {\n      this.a = c;this.b = a;\n    }function O(c, a, b, e) {\n      var h = \"\";a /= 8;var n, g, d;d = -1 === b ? 3 : 0;for (n = 0; n < a; n += 1) {\n        g = c[n >>> 2] >>> 8 * (d + n % 4 * b), h += \"0123456789abcdef\".charAt(g >>> 4 & 15) + \"0123456789abcdef\".charAt(g & 15);\n      }return e.outputUpper ? h.toUpperCase() : h;\n    }function P(c, a, b, e) {\n      var h = \"\",\n          n = a / 8,\n          g,\n          d,\n          p,\n          f;f = -1 === b ? 3 : 0;for (g = 0; g < n; g += 3) {\n        for (d = g + 1 < n ? c[g + 1 >>> 2] : 0, p = g + 2 < n ? c[g + 2 >>> 2] : 0, p = (c[g >>> 2] >>> 8 * (f + g % 4 * b) & 255) << 16 | (d >>> 8 * (f + (g + 1) % 4 * b) & 255) << 8 | p >>> 8 * (f + (g + 2) % 4 * b) & 255, d = 0; 4 > d; d += 1) {\n          8 * g + 6 * d <= a ? h += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(p >>> 6 * (3 - d) & 63) : h += e.b64Pad;\n        }\n      }return h;\n    }function Q(c, a, b) {\n      var e = \"\";a /= 8;var h, d, g;g = -1 === b ? 3 : 0;for (h = 0; h < a; h += 1) {\n        d = c[h >>> 2] >>> 8 * (g + h % 4 * b) & 255, e += String.fromCharCode(d);\n      }return e;\n    }function R(c, a, b) {\n      a /= 8;var e,\n          h = new ArrayBuffer(a),\n          d,\n          g;g = new Uint8Array(h);d = -1 === b ? 3 : 0;for (e = 0; e < a; e += 1) {\n        g[e] = c[e >>> 2] >>> 8 * (d + e % 4 * b) & 255;\n      }return h;\n    }function N(c) {\n      var a = { outputUpper: !1, b64Pad: \"=\", shakeLen: -1 };c = c || {};\n      a.outputUpper = c.outputUpper || !1;!0 === c.hasOwnProperty(\"b64Pad\") && (a.b64Pad = c.b64Pad);if (!0 === c.hasOwnProperty(\"shakeLen\")) {\n        if (0 !== c.shakeLen % 8) throw Error(\"shakeLen must be a multiple of 8\");a.shakeLen = c.shakeLen;\n      }if (\"boolean\" !== typeof a.outputUpper) throw Error(\"Invalid outputUpper formatting option\");if (\"string\" !== typeof a.b64Pad) throw Error(\"Invalid b64Pad formatting option\");return a;\n    }function M(c, a, b) {\n      switch (a) {case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":\n          break;default:\n          throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");\n      }switch (c) {case \"HEX\":\n          c = function c(a, _c, d) {\n            var g = a.length,\n                l,\n                p,\n                f,\n                m,\n                q,\n                u;if (0 !== g % 2) throw Error(\"String of HEX type must be in byte increments\");_c = _c || [0];d = d || 0;q = d >>> 3;u = -1 === b ? 3 : 0;for (l = 0; l < g; l += 2) {\n              p = parseInt(a.substr(l, 2), 16);if (isNaN(p)) throw Error(\"String of HEX type contains invalid characters\");m = (l >>> 1) + q;for (f = m >>> 2; _c.length <= f;) {\n                _c.push(0);\n              }_c[f] |= p << 8 * (u + m % 4 * b);\n            }return { value: _c, binLen: 4 * g + d };\n          };break;case \"TEXT\":\n          c = function c(_c2, h, d) {\n            var g,\n                l,\n                p = 0,\n                f,\n                m,\n                q,\n                u,\n                r,\n                t;h = h || [0];d = d || 0;q = d >>> 3;if (\"UTF8\" === a) for (t = -1 === b ? 3 : 0, f = 0; f < _c2.length; f += 1) {\n              for (g = _c2.charCodeAt(f), l = [], 128 > g ? l.push(g) : 2048 > g ? (l.push(192 | g >>> 6), l.push(128 | g & 63)) : 55296 > g || 57344 <= g ? l.push(224 | g >>> 12, 128 | g >>> 6 & 63, 128 | g & 63) : (f += 1, g = 65536 + ((g & 1023) << 10 | _c2.charCodeAt(f) & 1023), l.push(240 | g >>> 18, 128 | g >>> 12 & 63, 128 | g >>> 6 & 63, 128 | g & 63)), m = 0; m < l.length; m += 1) {\n                r = p + q;for (u = r >>> 2; h.length <= u;) {\n                  h.push(0);\n                }h[u] |= l[m] << 8 * (t + r % 4 * b);p += 1;\n              }\n            } else if (\"UTF16BE\" === a || \"UTF16LE\" === a) for (t = -1 === b ? 2 : 0, l = \"UTF16LE\" === a && 1 !== b || \"UTF16LE\" !== a && 1 === b, f = 0; f < _c2.length; f += 1) {\n              g = _c2.charCodeAt(f);\n              !0 === l && (m = g & 255, g = m << 8 | g >>> 8);r = p + q;for (u = r >>> 2; h.length <= u;) {\n                h.push(0);\n              }h[u] |= g << 8 * (t + r % 4 * b);p += 2;\n            }return { value: h, binLen: 8 * p + d };\n          };break;case \"B64\":\n          c = function c(a, _c3, d) {\n            var g = 0,\n                l,\n                p,\n                f,\n                m,\n                q,\n                u,\n                r,\n                t;if (-1 === a.search(/^[a-zA-Z0-9=+\\/]+$/)) throw Error(\"Invalid character in base-64 string\");p = a.indexOf(\"=\");a = a.replace(/\\=/g, \"\");if (-1 !== p && p < a.length) throw Error(\"Invalid '=' found in base-64 string\");_c3 = _c3 || [0];d = d || 0;u = d >>> 3;t = -1 === b ? 3 : 0;for (p = 0; p < a.length; p += 4) {\n              q = a.substr(p, 4);for (f = m = 0; f < q.length; f += 1) {\n                l = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(q[f]), m |= l << 18 - 6 * f;\n              }for (f = 0; f < q.length - 1; f += 1) {\n                r = g + u;for (l = r >>> 2; _c3.length <= l;) {\n                  _c3.push(0);\n                }_c3[l] |= (m >>> 16 - 8 * f & 255) << 8 * (t + r % 4 * b);g += 1;\n              }\n            }return { value: _c3, binLen: 8 * g + d };\n          };break;case \"BYTES\":\n          c = function c(a, _c4, d) {\n            var g, l, p, f, m, q;_c4 = _c4 || [0];d = d || 0;p = d >>> 3;q = -1 === b ? 3 : 0;for (l = 0; l < a.length; l += 1) {\n              g = a.charCodeAt(l), m = l + p, f = m >>> 2, _c4.length <= f && _c4.push(0), _c4[f] |= g << 8 * (q + m % 4 * b);\n            }return { value: _c4, binLen: 8 * a.length + d };\n          };break;case \"ARRAYBUFFER\":\n          try {\n            c = new ArrayBuffer(0);\n          } catch (e) {\n            throw Error(\"ARRAYBUFFER not supported by this environment\");\n          }c = function c(a, _c5, d) {\n            var g, l, p, f, m, q;_c5 = _c5 || [0];d = d || 0;l = d >>> 3;m = -1 === b ? 3 : 0;q = new Uint8Array(a);for (g = 0; g < a.byteLength; g += 1) {\n              f = g + l, p = f >>> 2, _c5.length <= p && _c5.push(0), _c5[p] |= q[g] << 8 * (m + f % 4 * b);\n            }return { value: _c5, binLen: 8 * a.byteLength + d };\n          };break;default:\n          throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return c;\n    }function y(c, a) {\n      return c << a | c >>> 32 - a;\n    }function S(c, a) {\n      return 32 < a ? (a -= 32, new b(c.b << a | c.a >>> 32 - a, c.a << a | c.b >>> 32 - a)) : 0 !== a ? new b(c.a << a | c.b >>> 32 - a, c.b << a | c.a >>> 32 - a) : c;\n    }function w(c, a) {\n      return c >>> a | c << 32 - a;\n    }function t(c, a) {\n      var k = null,\n          k = new b(c.a, c.b);return k = 32 >= a ? new b(k.a >>> a | k.b << 32 - a & 4294967295, k.b >>> a | k.a << 32 - a & 4294967295) : new b(k.b >>> a - 32 | k.a << 64 - a & 4294967295, k.a >>> a - 32 | k.b << 64 - a & 4294967295);\n    }function T(c, a) {\n      var k = null;return k = 32 >= a ? new b(c.a >>> a, c.b >>> a | c.a << 32 - a & 4294967295) : new b(0, c.a >>> a - 32);\n    }function aa(c, a, b) {\n      return c & a ^ ~c & b;\n    }function ba(c, a, k) {\n      return new b(c.a & a.a ^ ~c.a & k.a, c.b & a.b ^ ~c.b & k.b);\n    }function U(c, a, b) {\n      return c & a ^ c & b ^ a & b;\n    }function ca(c, a, k) {\n      return new b(c.a & a.a ^ c.a & k.a ^ a.a & k.a, c.b & a.b ^ c.b & k.b ^ a.b & k.b);\n    }function da(c) {\n      return w(c, 2) ^ w(c, 13) ^ w(c, 22);\n    }function ea(c) {\n      var a = t(c, 28),\n          k = t(c, 34);c = t(c, 39);return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);\n    }function fa(c) {\n      return w(c, 6) ^ w(c, 11) ^ w(c, 25);\n    }function ga(c) {\n      var a = t(c, 14),\n          k = t(c, 18);c = t(c, 41);return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);\n    }function ha(c) {\n      return w(c, 7) ^ w(c, 18) ^ c >>> 3;\n    }function ia(c) {\n      var a = t(c, 1),\n          k = t(c, 8);c = T(c, 7);return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);\n    }function ja(c) {\n      return w(c, 17) ^ w(c, 19) ^ c >>> 10;\n    }function ka(c) {\n      var a = t(c, 19),\n          k = t(c, 61);\n      c = T(c, 6);return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);\n    }function G(c, a) {\n      var b = (c & 65535) + (a & 65535);return ((c >>> 16) + (a >>> 16) + (b >>> 16) & 65535) << 16 | b & 65535;\n    }function la(c, a, b, e) {\n      var h = (c & 65535) + (a & 65535) + (b & 65535) + (e & 65535);return ((c >>> 16) + (a >>> 16) + (b >>> 16) + (e >>> 16) + (h >>> 16) & 65535) << 16 | h & 65535;\n    }function H(c, a, b, e, h) {\n      var d = (c & 65535) + (a & 65535) + (b & 65535) + (e & 65535) + (h & 65535);return ((c >>> 16) + (a >>> 16) + (b >>> 16) + (e >>> 16) + (h >>> 16) + (d >>> 16) & 65535) << 16 | d & 65535;\n    }function ma(c, a) {\n      var d, e, h;d = (c.b & 65535) + (a.b & 65535);e = (c.b >>> 16) + (a.b >>> 16) + (d >>> 16);h = (e & 65535) << 16 | d & 65535;d = (c.a & 65535) + (a.a & 65535) + (e >>> 16);e = (c.a >>> 16) + (a.a >>> 16) + (d >>> 16);return new b((e & 65535) << 16 | d & 65535, h);\n    }function na(c, a, d, e) {\n      var h, n, g;h = (c.b & 65535) + (a.b & 65535) + (d.b & 65535) + (e.b & 65535);n = (c.b >>> 16) + (a.b >>> 16) + (d.b >>> 16) + (e.b >>> 16) + (h >>> 16);g = (n & 65535) << 16 | h & 65535;h = (c.a & 65535) + (a.a & 65535) + (d.a & 65535) + (e.a & 65535) + (n >>> 16);n = (c.a >>> 16) + (a.a >>> 16) + (d.a >>> 16) + (e.a >>> 16) + (h >>> 16);return new b((n & 65535) << 16 | h & 65535, g);\n    }function oa(c, a, d, e, h) {\n      var n, g, l;n = (c.b & 65535) + (a.b & 65535) + (d.b & 65535) + (e.b & 65535) + (h.b & 65535);g = (c.b >>> 16) + (a.b >>> 16) + (d.b >>> 16) + (e.b >>> 16) + (h.b >>> 16) + (n >>> 16);l = (g & 65535) << 16 | n & 65535;n = (c.a & 65535) + (a.a & 65535) + (d.a & 65535) + (e.a & 65535) + (h.a & 65535) + (g >>> 16);g = (c.a >>> 16) + (a.a >>> 16) + (d.a >>> 16) + (e.a >>> 16) + (h.a >>> 16) + (n >>> 16);return new b((g & 65535) << 16 | n & 65535, l);\n    }function B(c, a) {\n      return new b(c.a ^ a.a, c.b ^ a.b);\n    }function A(c) {\n      var a = [],\n          d;if (\"SHA-1\" === c) a = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];else if (0 === c.lastIndexOf(\"SHA-\", 0)) switch (a = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428], d = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], c) {case \"SHA-224\":\n          break;case \"SHA-256\":\n          a = d;break;case \"SHA-384\":\n          a = [new b(3418070365, a[0]), new b(1654270250, a[1]), new b(2438529370, a[2]), new b(355462360, a[3]), new b(1731405415, a[4]), new b(41048885895, a[5]), new b(3675008525, a[6]), new b(1203062813, a[7])];break;case \"SHA-512\":\n          a = [new b(d[0], 4089235720), new b(d[1], 2227873595), new b(d[2], 4271175723), new b(d[3], 1595750129), new b(d[4], 2917565137), new b(d[5], 725511199), new b(d[6], 4215389547), new b(d[7], 327033209)];break;default:\n          throw Error(\"Unknown SHA variant\");} else if (0 === c.lastIndexOf(\"SHA3-\", 0) || 0 === c.lastIndexOf(\"SHAKE\", 0)) for (c = 0; 5 > c; c += 1) {\n        a[c] = [new b(0, 0), new b(0, 0), new b(0, 0), new b(0, 0), new b(0, 0)];\n      } else throw Error(\"No SHA variants supported\");return a;\n    }function K(c, a) {\n      var b = [],\n          e,\n          d,\n          n,\n          g,\n          l,\n          p,\n          f;e = a[0];d = a[1];n = a[2];g = a[3];l = a[4];for (f = 0; 80 > f; f += 1) {\n        b[f] = 16 > f ? c[f] : y(b[f - 3] ^ b[f - 8] ^ b[f - 14] ^ b[f - 16], 1), p = 20 > f ? H(y(e, 5), d & n ^ ~d & g, l, 1518500249, b[f]) : 40 > f ? H(y(e, 5), d ^ n ^ g, l, 1859775393, b[f]) : 60 > f ? H(y(e, 5), U(d, n, g), l, 2400959708, b[f]) : H(y(e, 5), d ^ n ^ g, l, 3395469782, b[f]), l = g, g = n, n = y(d, 30), d = e, e = p;\n      }a[0] = G(e, a[0]);a[1] = G(d, a[1]);a[2] = G(n, a[2]);a[3] = G(g, a[3]);a[4] = G(l, a[4]);return a;\n    }function Z(c, a, b, e) {\n      var d;for (d = (a + 65 >>> 9 << 4) + 15; c.length <= d;) {\n        c.push(0);\n      }c[a >>> 5] |= 128 << 24 - a % 32;a += b;c[d] = a & 4294967295;c[d - 1] = a / 4294967296 | 0;a = c.length;for (d = 0; d < a; d += 16) {\n        e = K(c.slice(d, d + 16), e);\n      }return e;\n    }function L(c, a, k) {\n      var e,\n          h,\n          n,\n          g,\n          l,\n          p,\n          f,\n          m,\n          q,\n          u,\n          r,\n          t,\n          v,\n          w,\n          y,\n          A,\n          z,\n          x,\n          F,\n          B,\n          C,\n          D,\n          E = [],\n          J;if (\"SHA-224\" === k || \"SHA-256\" === k) u = 64, t = 1, D = Number, v = G, w = la, y = H, A = ha, z = ja, x = da, F = fa, C = U, B = aa, J = d;else if (\"SHA-384\" === k || \"SHA-512\" === k) u = 80, t = 2, D = b, v = ma, w = na, y = oa, A = ia, z = ka, x = ea, F = ga, C = ca, B = ba, J = V;else throw Error(\"Unexpected error in SHA-2 implementation\");k = a[0];e = a[1];h = a[2];n = a[3];g = a[4];l = a[5];p = a[6];f = a[7];for (r = 0; r < u; r += 1) {\n        16 > r ? (q = r * t, m = c.length <= q ? 0 : c[q], q = c.length <= q + 1 ? 0 : c[q + 1], E[r] = new D(m, q)) : E[r] = w(z(E[r - 2]), E[r - 7], A(E[r - 15]), E[r - 16]), m = y(f, F(g), B(g, l, p), J[r], E[r]), q = v(x(k), C(k, e, h)), f = p, p = l, l = g, g = v(n, m), n = h, h = e, e = k, k = v(m, q);\n      }a[0] = v(k, a[0]);a[1] = v(e, a[1]);a[2] = v(h, a[2]);a[3] = v(n, a[3]);a[4] = v(g, a[4]);a[5] = v(l, a[5]);a[6] = v(p, a[6]);a[7] = v(f, a[7]);return a;\n    }function D(c, a) {\n      var d,\n          e,\n          h,\n          n,\n          g = [],\n          l = [];if (null !== c) for (e = 0; e < c.length; e += 2) {\n        a[(e >>> 1) % 5][(e >>> 1) / 5 | 0] = B(a[(e >>> 1) % 5][(e >>> 1) / 5 | 0], new b(c[e + 1], c[e]));\n      }for (d = 0; 24 > d; d += 1) {\n        n = A(\"SHA3-\");for (e = 0; 5 > e; e += 1) {\n          h = a[e][0];var p = a[e][1],\n              f = a[e][2],\n              m = a[e][3],\n              q = a[e][4];g[e] = new b(h.a ^ p.a ^ f.a ^ m.a ^ q.a, h.b ^ p.b ^ f.b ^ m.b ^ q.b);\n        }for (e = 0; 5 > e; e += 1) {\n          l[e] = B(g[(e + 4) % 5], S(g[(e + 1) % 5], 1));\n        }for (e = 0; 5 > e; e += 1) {\n          for (h = 0; 5 > h; h += 1) {\n            a[e][h] = B(a[e][h], l[e]);\n          }\n        }for (e = 0; 5 > e; e += 1) {\n          for (h = 0; 5 > h; h += 1) {\n            n[h][(2 * e + 3 * h) % 5] = S(a[e][h], W[e][h]);\n          }\n        }for (e = 0; 5 > e; e += 1) {\n          for (h = 0; 5 > h; h += 1) {\n            a[e][h] = B(n[e][h], new b(~n[(e + 1) % 5][h].a & n[(e + 2) % 5][h].a, ~n[(e + 1) % 5][h].b & n[(e + 2) % 5][h].b));\n          }\n        }a[0][0] = B(a[0][0], X[d]);\n      }return a;\n    }var d, V, W, X;d = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];V = [new b(d[0], 3609767458), new b(d[1], 602891725), new b(d[2], 3964484399), new b(d[3], 2173295548), new b(d[4], 4081628472), new b(d[5], 3053834265), new b(d[6], 2937671579), new b(d[7], 3664609560), new b(d[8], 2734883394), new b(d[9], 1164996542), new b(d[10], 1323610764), new b(d[11], 3590304994), new b(d[12], 4068182383), new b(d[13], 991336113), new b(d[14], 633803317), new b(d[15], 3479774868), new b(d[16], 2666613458), new b(d[17], 944711139), new b(d[18], 2341262773), new b(d[19], 2007800933), new b(d[20], 1495990901), new b(d[21], 1856431235), new b(d[22], 3175218132), new b(d[23], 2198950837), new b(d[24], 3999719339), new b(d[25], 766784016), new b(d[26], 2566594879), new b(d[27], 3203337956), new b(d[28], 1034457026), new b(d[29], 2466948901), new b(d[30], 3758326383), new b(d[31], 168717936), new b(d[32], 1188179964), new b(d[33], 1546045734), new b(d[34], 1522805485), new b(d[35], 2643833823), new b(d[36], 2343527390), new b(d[37], 1014477480), new b(d[38], 1206759142), new b(d[39], 344077627), new b(d[40], 1290863460), new b(d[41], 3158454273), new b(d[42], 3505952657), new b(d[43], 106217008), new b(d[44], 3606008344), new b(d[45], 1432725776), new b(d[46], 1467031594), new b(d[47], 851169720), new b(d[48], 3100823752), new b(d[49], 1363258195), new b(d[50], 3750685593), new b(d[51], 3785050280), new b(d[52], 3318307427), new b(d[53], 3812723403), new b(d[54], 2003034995), new b(d[55], 3602036899), new b(d[56], 1575990012), new b(d[57], 1125592928), new b(d[58], 2716904306), new b(d[59], 442776044), new b(d[60], 593698344), new b(d[61], 3733110249), new b(d[62], 2999351573), new b(d[63], 3815920427), new b(3391569614, 3928383900), new b(3515267271, 566280711), new b(3940187606, 3454069534), new b(4118630271, 4000239992), new b(116418474, 1914138554), new b(174292421, 2731055270), new b(289380356, 3203993006), new b(460393269, 320620315), new b(685471733, 587496836), new b(852142971, 1086792851), new b(1017036298, 365543100), new b(1126000580, 2618297676), new b(1288033470, 3409855158), new b(1501505948, 4234509866), new b(1607167915, 987167468), new b(1816402316, 1246189591)];X = [new b(0, 1), new b(0, 32898), new b(2147483648, 32906), new b(2147483648, 2147516416), new b(0, 32907), new b(0, 2147483649), new b(2147483648, 2147516545), new b(2147483648, 32777), new b(0, 138), new b(0, 136), new b(0, 2147516425), new b(0, 2147483658), new b(0, 2147516555), new b(2147483648, 139), new b(2147483648, 32905), new b(2147483648, 32771), new b(2147483648, 32770), new b(2147483648, 128), new b(0, 32778), new b(2147483648, 2147483658), new b(2147483648, 2147516545), new b(2147483648, 32896), new b(0, 2147483649), new b(2147483648, 2147516424)];W = [[0, 36, 3, 41, 18], [1, 44, 10, 45, 2], [62, 6, 43, 15, 61], [28, 55, 25, 21, 56], [27, 20, 39, 8, 14]];true ? !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n      return C;\n    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : \"undefined\" !== typeof exports ? (\"undefined\" !== typeof module && module.exports && (module.exports = C), exports = C) : Y.jsSHA = C;\n  })(this);\n\n  /***/\n},\n/* 4 */\n/***/function (module, __webpack_exports__, __webpack_require__) {\n\n  \"use strict\";\n  /* harmony import */\n  var __WEBPACK_IMPORTED_MODULE_0__storage_js__ = __webpack_require__(0);\n\n  var StorageMigration = function () {\n    function StorageMigration() {\n      _classCallCheck(this, StorageMigration);\n\n      this.storage = new __WEBPACK_IMPORTED_MODULE_0__storage_js__[\"a\" /* default */]();\n    }\n\n    //\n    // check storage version and convert storage structure\n    //\n    // callback: callback at converted\n    //\n\n\n    _createClass(StorageMigration, [{\n      key: 'convert',\n      value: function convert(callback) {\n        var _this4 = this;\n\n        this.storage.get(null, function (data) {\n\n          // in first time\n          if (Object.keys(data).length == 0) {\n            if (callback) {\n              callback();\n            }\n            return;\n          }\n\n          // at first version\n          if (!data.hasOwnProperty(_this4.storage.STORAGE_KEY_STORAGE_VERSION)) {\n            _this4._migrate(null, callback);\n            return;\n          }\n\n          var storageVersion = data[_this4.storage.STORAGE_KEY_STORAGE_VERSION];\n\n          // latest version\n          if (storageVersion === _this4.storage.STORAGE_VERSION) {\n            if (callback) {\n              callback();\n            }\n            return;\n          }\n\n          // older version\n          _this4._migrate(storageVersion, callback);\n        });\n      }\n\n      //\n      // migrate storage structure\n      //\n      // callback: callback in migrated\n      //\n\n    }, {\n      key: '_migrate',\n      value: function _migrate(currentVersion, callback) {\n        switch (currentVersion) {\n          case null:\n            this._migrateNullTo1_0_0(callback);\n            return;\n        }\n\n        if (callback) {\n          callback();\n        }\n      }\n\n      //\n      // migrate first version to 1.0.0\n      //\n      // callback: callback in migrated\n      //\n      // How to migration\n      // 1. save old model templates in new model\n      // 2. delete old model templates\n      //\n      // VERSION first\n      // {template: {\n      //     id: {\n      //       id: id,\n      //       name: name,\n      //       title: title,\n      //       body: body\n      //     }\n      // }}\n      //\n      // VERSION 1.0.0\n      // {template: {\n      //   TYPE: {\n      //     id: {\n      //       id: id,\n      //         name: name,\n      //         title: title,\n      //         body: body\n      //     }\n      //   }\n      // }}\n\n    }, {\n      key: '_migrateNullTo1_0_0',\n      value: function _migrateNullTo1_0_0(callback) {\n        var _this5 = this;\n\n        new Promise(function (resolve, reject) {\n          _this5.storage.get(null, function (data) {\n            resolve(data);\n          });\n        }).then(function (data) {\n          // 1. save old model templates in new model\n\n          var oldIds = Object.keys(data.template);\n          var i = void 0;\n          loop(function () {\n            // initialize\n            return new Promise(function (resolve) {\n              i = 0;\n              resolve();\n            });\n          }, function () {\n            // condition\n            return new Promise(function (resolve) {\n              resolve(i < oldIds.length);\n            });\n          }, function () {\n            // incriment\n            return new Promise(function (resolve) {\n              i++;\n              resolve();\n            });\n          }, function () {\n            return new Promise(function (resolve) {\n              // resave old model to new model\n              // old model used integer key\n              if (typeof parseInt(templateId) !== 'number') {\n                resolve();\n              }\n              var templateId = Object.keys(data.template)[i];\n              var template = data.template[templateId];\n              _this5.storage.saveOriginal(template.name, template.title, template.body, function () {\n                resolve();\n              });\n            });\n          }).then(function () {\n            // 2. delete old model templates\n            new Promise(function (resolve) {\n              _this5.storage.get(_this5.storage.STORAGE_KEY_TEMPLATE, function (root) {\n                var templates = root[_this5.storage.STORAGE_KEY_TEMPLATE];\n                for (var templateId in templates) {\n                  var intId = parseInt(templateId);\n                  if (!isNaN(intId) && typeof intId === 'number') {\n                    delete templates[templateId];\n                  }\n                }\n                resolve(templates);\n              });\n            }).then(function (templates) {\n              data[_this5.storage.STORAGE_KEY_TEMPLATE] = templates;\n              data[_this5.storage.STORAGE_KEY_STORAGE_VERSION] = _this5.storage.STORAGE_VERSION;\n              _this5.storage.set(data, callback);\n            });\n          });\n        });\n      }\n    }]);\n\n    return StorageMigration;\n  }();\n  /* harmony export (immutable) */\n\n  __webpack_exports__[\"a\"] = StorageMigration;\n\n  function loop(init, condition, increment, callback) {\n    return new Promise(function (resolve, reject) {\n      init().then(function _loop() {\n        condition().then(function (result) {\n          if (result) {\n            callback().then(increment).then(_loop, reject);\n          } else {\n            resolve();\n          }\n        }, reject);\n      }, reject);\n    });\n  }\n\n  /***/\n}]);"]}